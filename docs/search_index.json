[["index.html", "Tori’s Book Chapter 1 About", " Tori’s Book Tori Thorpe 2023-05-01 Chapter 1 About This website will host my final project for WILD 6900. "],["database-structure.html", "Chapter 2 Database structure 2.1 Create empty SQLite Tables in R.", " Chapter 2 Database structure 2.1 Create empty SQLite Tables in R. Install DBI package library(DBI) library(knitr) library(tidyverse) ## ── Attaching packages ─────────────────────────────────────── tidyverse 1.3.2 ── ## ✔ ggplot2 3.3.6 ✔ purrr 0.3.4 ## ✔ tibble 3.1.8 ✔ dplyr 1.0.10 ## ✔ tidyr 1.2.0 ✔ stringr 1.4.1 ## ✔ readr 2.1.2 ✔ forcats 0.5.2 ## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ── ## ✖ dplyr::filter() masks stats::filter() ## ✖ dplyr::lag() masks stats::lag() library(DBI) library(rmarkdown) Connect to database vernal_db &lt;- dbConnect(RSQLite::SQLite(), &quot;vernal_db.db&quot;) Create Tables dbExecute(vernal_db, &quot;CREATE TABLE weather ( weather_id INTEGER PRIMARY KEY AUTOINCREMENT, site varchar(60) NOT NULL, date text NOT NULL, arrival_time text, type varchar(5) CHECK (type IN (&#39;Point&#39;, &#39;Lek&#39;)) NOT NULL, sunrise_time text, temp INTEGER, cloud_cover INTEGER, precip char(1), end_time text, number_observers INTEGER, notes varchar(300) );&quot;) dbExecute(vernal_db, &quot;CREATE TABLE predator_surveys ( predator_id varchar(30) PRIMARY KEY, weather_id INTEGER, date text NOT NULL, time text, predation_attempt INTEGER, distance_band varchar(12), lek varchar(60) NOT NULL, survey_type varchar(5) NOT NULL, FOREIGN KEY (weather_id) REFERENCES weather(weather_id) );&quot;) dbExecute(vernal_db, &quot;CREATE TABLE lek_counts ( count_id INTEGER PRIMARY KEY AUTOINCREMENT, weather_id INTEGER, lek varchar(60) NOT NULL, date text NOT NULL, time text NOT NULL, male_count INTEGER, female_count INTEGER, unknown_count INTEGER, predator_present varchar(20), notes varchar(300), FOREIGN KEY (weather_id) REFERENCES weather(weather_id) );&quot;) "],["data-wrangling.html", "Chapter 3 Data Wrangling 3.1 Load Packages 3.2 Load csv 3.3 Check csv imported properly", " Chapter 3 Data Wrangling 3.1 Load Packages library(tidyverse) library(knitr) library(lubridate) 3.2 Load csv rabbits &lt;- read.csv( &quot;/Users/tthorpe7/Documents/Vernal_Project/Working_Data/Vernal_All_data_prep_for_R_rabbits.csv&quot;) 3.3 Check csv imported properly Even though things look right with head(), the dimensions 998 x 26 are incorrect. In Excel, there are only 49 rows. Why did this happen? It looks like extra rows and columns were created with NA values. head(rabbits) ## Date Route Start.Time Jackrabbit.Count Cottontail.Count ## 1 3/15/2022 DS/1 6:41 0 1 ## 2 3/16/2022 DS/1 6:39 0 1 ## 3 3/17/2022 DS/1 7:34 0 0 ## 4 3/18/2022 DS/1 6:52 0 1 ## 5 3/19/2022 DS/1 6:32 0 3 ## 6 3/20/2022 DS/1 6:33 0 0 ## Snowshoe.Hare.Count Unknown.Count Number.of.Observers End.Time Notes X X.1 ## 1 0 0 2 6:57 NA NA ## 2 0 0 NA 6:55 NA NA ## 3 0 0 NA 7:54 NA NA ## 4 0 0 NA 7:07 NA NA ## 5 0 0 NA 6:49 NA NA ## 6 0 0 NA 6:49 NA NA ## X.2 X.3 X.4 X.5 X.6 X.7 X.8 X.9 X.10 X.11 X.12 X.13 X.14 X.15 ## 1 NA NA NA NA NA NA NA NA NA NA NA NA NA NA ## 2 NA NA NA NA NA NA NA NA NA NA NA NA NA NA ## 3 NA NA NA NA NA NA NA NA NA NA NA NA NA NA ## 4 NA NA NA NA NA NA NA NA NA NA NA NA NA NA ## 5 NA NA NA NA NA NA NA NA NA NA NA NA NA NA ## 6 NA NA NA NA NA NA NA NA NA NA NA NA NA NA dim(rabbits) ## [1] 998 26 I think the easiest fix will be to subset the data. rabbits &lt;- rabbits[1:49, 1:10] Now we have isolated the data and can begin fixing it. Let’s start with the date. rabbits$Date &lt;- lubridate::mdy(rabbits$Date) class(rabbits$Date) ## [1] &quot;Date&quot; Now the “Date” column values are stored as dates instead of characters. I will do the same for the time columns. rabbits$Start.Time &lt;- lubridate::hm(rabbits$Start.Time) rabbits$End.Time &lt;- lubridate::hm(rabbits$End.Time) class(rabbits$Start.Time) ## [1] &quot;Period&quot; ## attr(,&quot;package&quot;) ## [1] &quot;lubridate&quot; class(rabbits$End.Time) ## [1] &quot;Period&quot; ## attr(,&quot;package&quot;) ## [1] &quot;lubridate&quot; "],["build-a-figure.html", "Chapter 4 Build a figure 4.1 I would like to work toward building a figure showing counts of the various rabbit species over time (dates). I may need to further manipulate the data so it is arranged in a way I can plot it. 4.2 Pivot the data 4.3 Now we are ready to plot! Hopefully… 4.4 Trying something else. 4.5 Another one 4.6 Final Figure 4.7 The Takeaway", " Chapter 4 Build a figure 4.1 I would like to work toward building a figure showing counts of the various rabbit species over time (dates). I may need to further manipulate the data so it is arranged in a way I can plot it. library(ggplot2) library(tidyverse) library(dplyr) library(ggridges) library(viridis) ## Loading required package: viridisLite library(lubridate) ## ## Attaching package: &#39;lubridate&#39; ## The following objects are masked from &#39;package:base&#39;: ## ## date, intersect, setdiff, union 4.2 Pivot the data rab_long &lt;- rabbits %&gt;% pivot_longer(cols = c(&quot;Cottontail.Count&quot;, &quot;Jackrabbit.Count&quot;, &quot;Snowshoe.Hare.Count&quot;, &quot;Unknown.Count&quot;), names_to = &quot;species&quot;, values_to = &quot;count&quot;) %&gt;% view() 4.3 Now we are ready to plot! Hopefully… ggplot(data = rab_long, aes(x = Date, y = count, color = species)) + geom_point() + geom_line() I made a rough plot of the data, but I don’t like how the zeros are plotted this way. I need to explore other options. 4.4 Trying something else. ggplot(data = rab_long, aes(x = Date, y = count, fill = species, height = count)) + geom_ridgeline() This is really ugly! I have to keep trying. 4.5 Another one I think I should filter out the 0’s in my data since they are implied. rab_long &lt;- rab_long %&gt;% filter(count != 0) %&gt;% view() This seems to have accomplished what I wanted! ggplot(data = rab_long, aes(x = Date, y = count, color = species, fill = species)) + geom_point(shape = 21) + ylim(0, 4) + theme_bw() I don’t think this is the best way to display the data, so I am going to just show species total each month. rab_simple &lt;- rab_long %&gt;% dplyr::group_by(month(Date), species) %&gt;% tally() rab_simple &lt;- rab_simple %&gt;% as.tibble() %&gt;% rename(&quot;mo&quot; = &quot;month(Date)&quot;) ## Warning: `as.tibble()` was deprecated in tibble 2.0.0. ## Please use `as_tibble()` instead. ## The signature and semantics have changed, see `?as_tibble`. ## This warning is displayed once every 8 hours. ## Call `lifecycle::last_lifecycle_warnings()` to see where this warning was generated. ggplot(data = rab_simple, aes(x = mo, y = n, fill = species)) + geom_bar(stat = &quot;identity&quot;, position = &quot;dodge&quot;) + theme_bw() + scale_x_continuous(breaks = unique(rab_simple$mo), minor_breaks = NULL, labels = c(&quot;March&quot;, &quot;April&quot;)) + labs(x = &quot;Month&quot;, y = &quot;Count&quot;, fill = &quot;Species&quot;) + ggtitle(&quot;2022 Rabbit Detections&quot;) + theme(axis.ticks.x = element_blank()) + scale_fill_viridis_d(labels = c(&quot;Cottontails&quot;, &quot;Jackrabbits&quot;, &quot;Unknown species&quot;)) I feel like this is finally pretty good, but I will try to make it even better. 4.6 Final Figure I am copying and pastying the previous code and adding to it. ggplot(data = rab_simple, aes(x = mo, y = n, fill = species)) + geom_bar(stat = &quot;identity&quot;, position = position_dodge(width = 1)) + theme_bw() + scale_x_continuous(breaks = unique(rab_simple$mo), minor_breaks = NULL, labels = c(&quot;March&quot;, &quot;April&quot;)) + labs(x = &quot;Month&quot;, y = &quot;Count&quot;, fill = &quot;Species&quot;) + ggtitle(&quot;2022 Rabbit Detections&quot;) + theme(plot.title = element_text(hjust = 0.5, size = 20)) + theme(axis.title.y = element_text(margin = margin(r = 12))) + theme(axis.title.x = element_text(margin = margin(t = 10))) + theme(axis.ticks.x = element_blank()) + scale_fill_viridis_d(labels = c(&quot;Cottontails&quot;, &quot;Jackrabbits&quot;, &quot;Unknown species&quot;)) 4.7 The Takeaway This took a lot of time, but it was great practice. I have learned so much and I am excited to apply my skills to my data. :) "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
